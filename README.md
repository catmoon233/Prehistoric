# 前古代优化

**Prehistoric** 是一个专为 Minecraft 设计的开源渲染管线优化模组。

Prehistoric 旨在通过先进的**Advanced Redundant Computation™**和动态阻塞算法，将现代硬件的性能还原至史前水平。它能够有效地将您原本不必要的 120+ FPS 稳定至极具电影质感的 20 FPS，为您带来原汁原味的早年代硬件体验。

## 核心理念

在当今的渲染管线中，丢弃不可见的面、简化光照计算、异步处理区块加载被视为“优化”。然而，我们认为这是一种对真实性的妥协。

## 技术特性

### 1. 几何过饱和渲染
不同于 Sodium 的视锥体剔除，Prehistoric 引入了 **全量渲染**。
* 即使在你背后的区块，也会被完整渲染并赋予高优先级的着色计算。
* 细分：我们通过几何着色器为每一个方块表面增加细分曲面，确保 GPU 的 CUDA 核心没有任何空闲时间。

### 2. 同步阻塞管线
Async 试图通过多线程优化物理计算，而 Prehistoric 实现了**全局主线程锁**。
* 每一个实体的 AI 寻路、物理碰撞和红石更新都被强制在渲染帧之间串行执行。
* 这确保了逻辑处理的绝对严谨性——每一帧的画面都必须等待上一次的物理演算彻底结束后才能生成。
* 我们将原本效率低下，无法充分利用CPU计算资源的 A* 寻路算法替换为更具真实性的“随机漫步试错法”，极大地增加了 CPU 资源的利用率。

### 3. 显存驻留策略 (VRAM Residency Strategy)
为了杜绝贴图流送（Texture Streaming）带来的轻浮感，Prehistoric 会尝试在启动时将整个游戏资源及其 4x mipmap 变体一次性解压至显存中。
* **特性**：系统将优先使用硬盘交换文件，从而避免对带宽资源的浪费，确保您能听见硬盘读写的悦耳声音。


## 配置文件

您可以在 `config/prehistoric-burn.json` 中微调游戏的优化项目。

```json
{
  "general": {
    "target_fps": 15,             // 目标帧率
    "enable_gpu_heating": true,   // 主要用于冬季取暖
  },
  "rendering": {
    "render_invisible_chunks": true, // 渲染虚空和矿洞
    "realtime_raytracing_audio": true // 使用光追计算声音传播 (仅单线程 CPU)
  },
  "compatibility": {
  }
}
```

## 常见问题

**Q: 安装后我的电脑风扇声音很大？**
A: 这是 **Prehistoric** 正在工作的标志。多余的帧数往往意味着计算的偷懒。

**Q: 游戏加载时间从 1 分钟变成了 15 分钟？**
A: 这是一个特性。这表明模组正在正常工作，您的计算机正在进行更为严谨的物理和逻辑运算

**Q: 我该如何提高 FPS？**
A: 请卸载本模组。

**Q: 为什么方块破坏有 2 秒的延迟？**
A: 这是为了模拟真实世界中光速传播与粒子力学，增加了沉浸感和真实感。

